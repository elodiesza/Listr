{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Swiper from 'react-native-swiper';\nimport MonthlyTasks from \"./MonthlyTasks\";\nimport { container, colors } from \"../styles\";\nimport { useState } from 'react';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar width = Dimensions.get('window').width;\nexport default function Monthly(_ref) {\n  var year = _ref.year,\n    month = _ref.month,\n    tasks = _ref.tasks,\n    tracks = _ref.tracks,\n    setTracks = _ref.setTracks,\n    load = _ref.load,\n    loadx = _ref.loadx,\n    db = _ref.db,\n    setTasks = _ref.setTasks;\n  var insets = useSafeAreaInsets();\n  var height = Dimensions.get('window').height - insets.top - insets.bottom;\n  var today = new Date();\n  var thisDay = today.getDate();\n  var thisMonth = today.getMonth();\n  var thisYear = today.getFullYear();\n  var days = [];\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    modalVisible = _useState2[0],\n    setModalVisible = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    calendarDate = _useState4[0],\n    setCalendarDate = _useState4[1];\n  var GetDaysInMonth = function GetDaysInMonth(month) {\n    var date = new Date(year, month, 1);\n    var firstDay = date.getDay();\n    if (firstDay == 0) {\n      for (var i = 0; i < 6; i++) {\n        days.push(0);\n      }\n      while (date.getMonth() === month) {\n        days.push(new Date(date).getDate());\n        date.setDate(date.getDate() + 1);\n      }\n    } else {\n      for (var _i = 1; _i < firstDay; _i++) {\n        days.push(0);\n      }\n      while (date.getMonth() === month) {\n        days.push(new Date(date).getDate());\n        date.setDate(date.getDate() + 1);\n      }\n    }\n    if (days.length < 42) {\n      for (var _i2 = days.length; _i2 < 42; _i2++) {\n        days.push(0);\n      }\n    }\n    return days;\n  };\n  var daysLength = GetDaysInMonth(month).length;\n  var line1 = GetDaysInMonth(month).slice(0, 7);\n  var line2 = GetDaysInMonth(month).slice(7, 14);\n  var line3 = GetDaysInMonth(month).slice(14, 21);\n  var line4 = GetDaysInMonth(month).slice(21, 28);\n  var line5 = function line5() {\n    var list = [];\n    if (daysLength > 28) {\n      for (var i = 0; i < 7; i++) {\n        list.push(GetDaysInMonth(month)[28 + i]);\n      }\n      for (var _i3 = 0; _i3 < 35 - daysLength; _i3++) {\n        list.push(0);\n      }\n      return list;\n    } else {\n      list.push(0, 0, 0, 0, 0, 0, 0);\n      return list;\n    }\n  };\n  var line6 = function line6() {\n    var list = [];\n    if (daysLength > 34) {\n      for (var i = 0; i < 7; i++) {\n        list.push(GetDaysInMonth(month)[35 + i]);\n      }\n      return list;\n    } else {\n      list.push(0, 0, 0, 0, 0, 0, 0);\n      return list;\n    }\n  };\n  var daysLines = [line1, line2, line3, line4, line5(), line6()];\n  var monthTodo = function monthTodo(tasks, year, month, day) {\n    if (day > 0 && day < 32) {\n      return tasks.filter(function (c) {\n        return c.year == year && c.month == month && c.day == day;\n      });\n    }\n  };\n  var CalendarCell = function CalendarCell(date) {\n    return _jsxs(View, {\n      style: [styles.calendarCell, {\n        backgroundColor: date == 0 ? 'lightgray' : 'white',\n        borderColor: date == thisDay && month == thisMonth && year == thisYear ? colors.primary.purple : colors.pale.black,\n        borderWidth: date == thisDay && month == thisMonth && year == thisYear ? 2 : 0.5\n      }],\n      children: [_jsx(View, {\n        style: {\n          height: 15,\n          flexDirection: 'row',\n          justifyContent: 'flex-end'\n        },\n        children: _jsx(Pressable, {\n          onPress: function onPress() {\n            setCalendarDate(date);\n            setModalVisible(true);\n          },\n          children: _jsx(Text, {\n            style: {\n              fontFamily: 'AvenirNextCondensed-Regular',\n              textAlign: 'right',\n              textAlignVertical: 'top',\n              marginRight: 3,\n              opacity: date == 0 ? 0 : 1\n            },\n            children: date\n          })\n        })\n      }), _jsx(View, {\n        style: {\n          justifyContent: 'flex-end',\n          flex: 1\n        },\n        children: _jsx(FlatList, {\n          data: monthTodo(tasks.filter(function (c) {\n            return c.recurring == false;\n          }), year, month, date),\n          horizontal: false,\n          scrollEnabled: true,\n          renderItem: RenderTaskItem,\n          bounces: false\n        })\n      })]\n    });\n  };\n  var CalendarLine = function CalendarLine(line) {\n    return _jsx(FlatList, {\n      data: line,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return CalendarCell(item);\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      horizontal: true,\n      bounces: false,\n      contentContainerStyle: {\n        height: (height - 150 - 3) / 7\n      }\n    });\n  };\n  var CalendarTaskItem = function CalendarTaskItem(_ref3) {\n    var task = _ref3.task,\n      track = _ref3.track;\n    return _jsx(_Fragment, {\n      children: _jsx(TouchableOpacity, {\n        style: [styles.task, {\n          backgroundColor: tracks.filter(function (c) {\n            return c.track == track;\n          }).map(function (c) {\n            return c.color;\n          })[0]\n        }],\n        children: _jsx(Text, {\n          style: {\n            fontSize: 10\n          },\n          children: task\n        })\n      })\n    });\n  };\n  var RenderTaskItem = function RenderTaskItem(_ref4) {\n    var item = _ref4.item;\n    return _jsx(CalendarTaskItem, {\n      task: item.task,\n      track: item.track\n    });\n  };\n  return _jsx(View, {\n    style: container.body,\n    children: _jsxs(Swiper, {\n      horizontal: false,\n      showsButtons: false,\n      showsPagination: false,\n      loop: false,\n      index: 0,\n      children: [_jsx(MonthlyTasks, {\n        db: db,\n        load: load,\n        loadx: loadx,\n        tracks: tracks,\n        setTracks: setTracks,\n        year: year,\n        month: month,\n        tasks: tasks,\n        setTasks: setTasks\n      }), _jsxs(View, {\n        style: {\n          flex: 1,\n          justifyContent: 'flex-start',\n          width: '100%',\n          paddingBottom: 60\n        },\n        children: [_jsx(View, {\n          style: {\n            height: 30\n          },\n          children: _jsx(FlatList, {\n            data: [\"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\", \"SAT\", \"SUN\"],\n            renderItem: function renderItem(_ref5) {\n              var item = _ref5.item;\n              return _jsx(View, {\n                style: {\n                  backgroundColor: colors.primary.default,\n                  width: width / 7,\n                  height: 30,\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                },\n                children: _jsx(Text, {\n                  style: {\n                    fontFamily: 'AvenirNextCondensed-Regular'\n                  },\n                  children: item\n                })\n              });\n            },\n            keyExtractor: function keyExtractor(item) {\n              return item.id;\n            },\n            horizontal: true,\n            contentContainerStyle: {\n              borderBottomColor: colors.primary.defaultdark,\n              borderBottomWidth: 1\n            }\n          })\n        }), _jsx(FlatList, {\n          data: daysLines,\n          renderItem: function renderItem(_ref6) {\n            var item = _ref6.item;\n            return CalendarLine(item);\n          },\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          },\n          scrollEnabled: false,\n          contentContainerStyle: {\n            flex: 1,\n            backgroundColor: 'blue'\n          }\n        })]\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  calendarCell: {\n    alignContent: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    width: width / 7,\n    flex: 1 / 7\n  },\n  task: {\n    width: width / 7 - 1,\n    height: 14,\n    borderWidth: 1,\n    borderColor: 'gray',\n    borderRadius: 2\n  }\n});","map":{"version":3,"names":["Swiper","MonthlyTasks","container","colors","useState","useSafeAreaInsets","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","width","Dimensions","get","Monthly","_ref","year","month","tasks","tracks","setTracks","load","loadx","db","setTasks","insets","height","top","bottom","today","Date","thisDay","getDate","thisMonth","getMonth","thisYear","getFullYear","days","_useState","_useState2","_slicedToArray","modalVisible","setModalVisible","_useState3","_useState4","calendarDate","setCalendarDate","GetDaysInMonth","date","firstDay","getDay","i","push","setDate","length","daysLength","line1","slice","line2","line3","line4","line5","list","line6","daysLines","monthTodo","day","filter","c","CalendarCell","View","style","styles","calendarCell","backgroundColor","borderColor","primary","purple","pale","black","borderWidth","children","flexDirection","justifyContent","Pressable","onPress","Text","fontFamily","textAlign","textAlignVertical","marginRight","opacity","flex","FlatList","data","recurring","horizontal","scrollEnabled","renderItem","RenderTaskItem","bounces","CalendarLine","line","_ref2","item","keyExtractor","id","contentContainerStyle","CalendarTaskItem","_ref3","task","track","TouchableOpacity","map","color","fontSize","_ref4","body","showsButtons","showsPagination","loop","index","paddingBottom","_ref5","default","alignItems","borderBottomColor","defaultdark","borderBottomWidth","_ref6","StyleSheet","create","alignContent","borderRadius"],"sources":["/Users/elodie/Documents/GIT/todo/components/Monthly.tsx"],"sourcesContent":["import { SafeAreaView,TouchableOpacity, Pressable, ScrollView, FlatList, StyleSheet, Text, View, Dimensions } from 'react-native';\nimport Swiper from 'react-native-swiper'\nimport MonthlyTasks from './MonthlyTasks';\nimport { container, colors } from '../styles';\nimport { useState } from 'react';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\nconst width = Dimensions.get('window').width;\n\nexport default function Monthly({year, month, tasks, tracks, setTracks, load, loadx, db, setTasks}) {\n  const insets = useSafeAreaInsets();\n  const height = Dimensions.get('window').height - insets.top - insets.bottom; \n\n  var today = new Date();\n  var thisDay = today.getDate();\n  var thisMonth = today.getMonth();\n  var thisYear = today.getFullYear();\n  var days = [];\n  const [modalVisible, setModalVisible] = useState(false);\n  const [calendarDate,setCalendarDate] = useState(0);\n\n  const GetDaysInMonth = (month) => {\n    var date = new Date(year, month, 1);\n    var firstDay = date.getDay();\n    if (firstDay == 0) {\n      for (let i=0; i<6; i++) {\n        days.push(0);\n      }\n      while (date.getMonth() === month) {\n        days.push(new Date(date).getDate());\n        date.setDate(date.getDate() + 1);\n      }\n    }\n    else {\n      for (let i=1; i<firstDay; i++) {\n        days.push(0);\n      }\n      while (date.getMonth() === month) {\n        days.push(new Date(date).getDate());\n        date.setDate(date.getDate() + 1);\n      }\n    }\n    if (days.length<42) {\n      for (let i=days.length; i<42; i++) {\n        days.push(0);\n      }\n    }\n    return days;\n  }\n\n  var daysLength = GetDaysInMonth(month).length;\n\n  var line1 = GetDaysInMonth(month).slice(0,7);\n  var line2 = GetDaysInMonth(month).slice(7,14);\n  var line3 = GetDaysInMonth(month).slice(14,21);\n  var line4 = GetDaysInMonth(month).slice(21,28);\n  var line5 = () => { \n    let list=[];\n    if (daysLength>28) {\n        for (let i=0; i<7;i++){\n          list.push(GetDaysInMonth(month)[28+i]);\n        }\n        for (let i=0; i<(35-daysLength);i++){\n            list.push(0);\n          }\n      return(list)\n    }\n    else {\n      list.push(0,0,0,0,0,0,0);\n      return(list)\n    }\n  }\n  var line6 = () => { \n    let list=[];\n    if (daysLength>34) {\n\n        for (let i=0; i<7;i++){\n          list.push(GetDaysInMonth(month)[35+i]);\n        }\n      return(list)\n    }\n    else {\n      list.push(0,0,0,0,0,0,0);\n      return(list)\n    }\n  }\n\n  var daysLines = [line1,line2,line3,line4,line5(),line6()];\n\n  const monthTodo = (tasks, year, month, day) => {\n    if(day>0 && day<32) {\n      return(tasks.filter(\n        c=>(c.year==year && c.month==month && c.day==day)\n      ))\n    }\n  };\n\n  const CalendarCell = (date) => {\n    return(\n      <View style={[styles.calendarCell,{backgroundColor: date==0? 'lightgray' : 'white', borderColor: (date==thisDay && month==thisMonth && year==thisYear)? colors.primary.purple:colors.pale.black, borderWidth: (date==thisDay && month==thisMonth && year==thisYear)? 2:0.5}]}>\n        <View style={{height:15, flexDirection:'row', justifyContent:'flex-end'}}>\n          <Pressable onPress={()=>{setCalendarDate(date);setModalVisible(true);}}>\n            <Text style={{fontFamily:'AvenirNextCondensed-Regular',textAlign:'right', textAlignVertical:'top', marginRight:3, opacity: date==0? 0 : 1}}>{date}</Text>\n          </Pressable>\n        </View>\n        <View style={{justifyContent: 'flex-end',flex:1}}>\n          <FlatList \n          data={monthTodo(tasks.filter(c=>c.recurring==false), year, month, date)}\n          horizontal={false} \n          scrollEnabled={true} \n          renderItem={RenderTaskItem} \n          bounces={false} />\n        </View>\n      </View>\n    )\n  }\n\n  const CalendarLine = (line) => {\n    return (\n        <FlatList\n            data={line}\n            renderItem={({item}) => CalendarCell(item)}\n            keyExtractor={item => item.id}\n            horizontal={true}\n            bounces={false}\n            contentContainerStyle={{height:(height-150-3)/7}}\n          />  \n\n    )\n  }\n\n  const CalendarTaskItem = ({task, track}) => (\n    <>\n      <TouchableOpacity style={[styles.task,{backgroundColor: tracks.filter(c=>c.track==track).map(c=>c.color)[0]}]}>\n        <Text style={{fontSize:10}}>{task}</Text>\n      </TouchableOpacity>\n    </>\n  );\n  const RenderTaskItem = ({item}) => (\n    <CalendarTaskItem task={item.task} track={item.track} />\n  );\n\n  return (\n    <View style={container.body}>\n        <Swiper horizontal={false} showsButtons={false} showsPagination={false} loop={false} index={0}>\n          <MonthlyTasks db={db} load={load} loadx={loadx} tracks={tracks} setTracks={setTracks} year={year} month={month} tasks={tasks} setTasks={setTasks}/>\n          <View style={{flex:1, justifyContent:'flex-start',width:'100%',paddingBottom:60}}>\n            <View style={{height:30}}>\n              <FlatList\n                data={[\"MON\",\"TUE\",\"WED\",\"THU\",\"FRI\",\"SAT\",\"SUN\"]}\n                renderItem={({item}) => (\n                  <View style={{backgroundColor:colors.primary.default, width:width/7, height:30, alignItems:'center', justifyContent:'center'}}>\n                    <Text style={{fontFamily:'AvenirNextCondensed-Regular'}}>{item}</Text>\n                  </View>\n                )}\n                keyExtractor={item => item.id}\n                horizontal={true}\n                contentContainerStyle={{borderBottomColor:colors.primary.defaultdark, borderBottomWidth: 1}}\n              />\n            </View>\n            <FlatList\n              data={daysLines}\n              renderItem={({item}) => CalendarLine(item)}\n              keyExtractor={item => item.id} \n              scrollEnabled={false}\n              contentContainerStyle={{flex:1,backgroundColor:'blue'}}\n            />\n          </View>\n        </Swiper>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  calendarCell: {\n    alignContent: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    width: width/7,\n    flex:1/7,\n  },\n  task: {\n    width: width/7-1,\n    height: 14,\n    borderWidth: 1,\n    borderColor: 'gray',\n    borderRadius: 2,\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}