{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { container } from \"../styles\";\nimport { Feather } from '@expo/vector-icons';\nimport moment from 'moment';\nimport background from \"../assets/images/design/background.jpg\";\nimport AnalyticsHome from \"./Analytics/AnalyticsHome\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar width = Dimensions.get('window').width;\nfunction Analytics(_ref) {\n  var db = _ref.db,\n    tasks = _ref.tasks,\n    statusrecords = _ref.statusrecords,\n    tracks = _ref.tracks;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var today = new Date();\n  var thisMonth = today.getMonth();\n  var thisYear = today.getFullYear();\n  var thisDay = today.getDate();\n  var _useState3 = useState(thisMonth),\n    _useState4 = _slicedToArray(_useState3, 2),\n    month = _useState4[0],\n    setMonth = _useState4[1];\n  var _useState5 = useState(thisYear),\n    _useState6 = _slicedToArray(_useState5, 2),\n    year = _useState6[0],\n    setYear = _useState6[1];\n  var _useState7 = useState(thisDay),\n    _useState8 = _slicedToArray(_useState7, 2),\n    day = _useState8[0],\n    setDay = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    firstMonth = _useState10[0],\n    setFirstMonth = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    lastMonth = _useState12[0],\n    setLastMonth = _useState12[1];\n  var _useState13 = useState(true),\n    _useState14 = _slicedToArray(_useState13, 2),\n    displayMonth = _useState14[0],\n    setDisplayMonth = _useState14[1];\n  useEffect(function () {\n    if (tasks.filter(function (c) {\n      return c.year == year && c.month == month - 1;\n    }) == undefined) {\n      setFirstMonth(true);\n    } else {\n      setFirstMonth(false);\n    }\n    if (tasks.filter(function (c) {\n      return c.year == year && c.month == month + 1;\n    }) == undefined) {\n      setLastMonth(true);\n    } else {\n      setLastMonth(false);\n    }\n  }, []);\n  var LastMonth = function LastMonth() {\n    if (month == 0) {\n      setMonth(11);\n      setYear(year - 1);\n    } else {\n      setMonth(month - 1);\n    }\n    if (tasks.filter(function (c) {\n      return c.year == year && c.month == month - 2;\n    }) == \"\") {\n      setFirstMonth(true);\n    }\n    setLastMonth(false);\n  };\n  var NextMonth = function NextMonth() {\n    if (month == 11) {\n      setMonth(0);\n      setYear(year + 1);\n    } else {\n      setMonth(month + 1);\n    }\n    if (tasks.filter(function (c) {\n      return c.year == year && c.month == month + 1;\n    }) == \"\") {\n      setLastMonth(true);\n    }\n    setFirstMonth(false);\n  };\n  if (isLoading) {\n    return _jsx(View, {\n      children: _jsx(Text, {\n        children: \" Is Loading...\"\n      })\n    });\n  }\n  return _jsx(ImageBackground, {\n    source: background,\n    resizeMode: \"cover\",\n    style: container.container,\n    children: _jsxs(SafeAreaView, {\n      style: container.container,\n      children: [_jsxs(View, {\n        style: container.header,\n        children: [_jsx(Pressable, {\n          onPress: displayMonth == true ? function () {\n            return LastMonth(tasks);\n          } : function () {\n            return setYear(year - 1);\n          },\n          children: _jsx(Feather, {\n            name: \"chevron-left\",\n            size: 40,\n            style: {\n              right: 30\n            },\n            color: 'black'\n          })\n        }), _jsxs(Pressable, {\n          onPress: function onPress() {\n            return setDisplayMonth(!displayMonth);\n          },\n          style: {\n            alignItems: 'center'\n          },\n          children: [_jsx(Text, {\n            style: container.headerdate,\n            children: displayMonth == true ? moment(new Date(year, 1, 1)).format('YYYY') : moment(new Date(0, month, 1)).format('MMMM')\n          }), _jsx(Text, {\n            style: container.headertitle,\n            children: displayMonth == true ? moment(new Date(0, month, 1)).format('MMMM') : moment(new Date(year, 1, 1)).format('YYYY')\n          })]\n        }), _jsx(Pressable, {\n          onPress: displayMonth == true ? function () {\n            return NextMonth(tasks);\n          } : function () {\n            return setYear(year + 1);\n          },\n          children: _jsx(Feather, {\n            name: \"chevron-right\",\n            size: 40,\n            style: {\n              left: 30\n            },\n            color: 'black'\n          })\n        })]\n      }), _jsx(AnalyticsHome, {\n        db: db,\n        tasks: tasks,\n        tracks: tracks,\n        statusrecords: statusrecords,\n        year: year,\n        month: month\n      })]\n    })\n  });\n}\nexport default Analytics;","map":{"version":3,"names":["React","useEffect","useState","ImageBackground","View","Text","Dimensions","Pressable","SafeAreaView","container","Feather","moment","background","AnalyticsHome","jsx","_jsx","jsxs","_jsxs","width","get","Analytics","_ref","db","tasks","statusrecords","tracks","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","today","Date","thisMonth","getMonth","thisYear","getFullYear","thisDay","getDate","_useState3","_useState4","month","setMonth","_useState5","_useState6","year","setYear","_useState7","_useState8","day","setDay","_useState9","_useState10","firstMonth","setFirstMonth","_useState11","_useState12","lastMonth","setLastMonth","_useState13","_useState14","displayMonth","setDisplayMonth","filter","c","undefined","LastMonth","NextMonth","children","source","resizeMode","style","header","onPress","name","size","right","color","alignItems","headerdate","format","headertitle","left"],"sources":["/Users/elodie/Documents/GIT/todo/screens/Analytics.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { ImageBackground,View, Text,Dimensions,StyleSheet, Pressable, SafeAreaView, FlatList } from 'react-native';\nimport { container, colors } from '../styles';\nimport { Feather } from '@expo/vector-icons';\nimport moment from 'moment';\nimport background from '../assets/images/design/background.jpg';\nimport AnalyticsHome from './Analytics/AnalyticsHome';\n\n\nconst width = Dimensions.get('window').width;\n\nfunction Analytics({db, tasks, statusrecords, tracks}) {\n  const [isLoading, setIsLoading] = useState(false);\n\n  var today = new Date();\n  var thisMonth = today.getMonth();\n  var thisYear = today.getFullYear();\n  var thisDay = today.getDate();\n  const [month,setMonth] = useState(thisMonth);\n  const [year,setYear] = useState(thisYear);\n  const [day, setDay] = useState(thisDay);\n  const [firstMonth, setFirstMonth] = useState(false);\n  const [lastMonth, setLastMonth] = useState(false);\n  const [displayMonth, setDisplayMonth] = useState(true);\n\n  useEffect(() => {\n    if (tasks.filter(c=>(c.year==year && c.month==month-1))==undefined) {\n      setFirstMonth(true);\n    }\n    else{\n      setFirstMonth(false);\n    }\n    if (tasks.filter(c=>(c.year==year && c.month==month+1))==undefined) {\n      setLastMonth(true);\n    }\n    else{\n      setLastMonth(false);\n    }\n  },[])\n\n  const LastMonth = () => {\n    if (month==0){\n      setMonth(11);\n      setYear(year-1);\n    }\n    else {\n      setMonth(month-1);\n    }\n    if (tasks.filter(c=>(c.year==year && c.month==month-2))==\"\"){\n      setFirstMonth(true);\n    }\n    setLastMonth(false);\n  };\n\n  const NextMonth = () => {\n    if (month==11){\n      setMonth(0);\n      setYear(year+1);\n    }\n    else {\n      setMonth(month+1);\n    }\n    if (tasks.filter(c=>(c.year==year && c.month==month+1))==\"\"){\n      setLastMonth(true);\n    }\n    setFirstMonth(false);\n  };\n\n\n  if (isLoading) {\n    return (\n      <View>\n        <Text> Is Loading...</Text>\n      </View>\n    )\n  }\n  return (\n    <ImageBackground source={background} resizeMode=\"cover\" style={container.container}>\n    <SafeAreaView style={container.container}>\n      <View style={container.header}>\n        <Pressable onPress={displayMonth==true? ()=>LastMonth(tasks): ()=>setYear(year-1)}>\n          <Feather name='chevron-left' size={40} style={{right:30}} color={'black'}/>\n        </Pressable>\n        <Pressable onPress={()=>setDisplayMonth(!displayMonth)} style={{alignItems:'center'}}>\n          <Text style={container.headerdate}>{displayMonth==true?moment(new Date(year,1,1)).format('YYYY'):moment(new Date(0,month,1)).format('MMMM')}</Text>\n          <Text style={container.headertitle}>{displayMonth==true?moment(new Date(0,month,1)).format('MMMM'):moment(new Date(year,1,1)).format('YYYY')}</Text>\n        </Pressable>\n        <Pressable onPress={displayMonth==true? ()=>NextMonth(tasks): ()=>setYear(year+1)}>\n          <Feather name='chevron-right' size={40} style={{left:30}} color={'black'}/>\n        </Pressable>\n      </View>\n      <AnalyticsHome db={db} tasks={tasks} tracks={tracks} statusrecords={statusrecords} year={year} month={month}/>\n    </SafeAreaView>\n    </ImageBackground>\n  );\n}\n\nexport default Analytics;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}