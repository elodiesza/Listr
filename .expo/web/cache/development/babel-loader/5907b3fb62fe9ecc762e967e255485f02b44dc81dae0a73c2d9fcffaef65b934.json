{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport Monthly from \"../components/Monthly\";\nimport { container } from \"../styles\";\nimport { Feather } from '@expo/vector-icons';\nimport background from \"../assets/images/design/background.jpg\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MonthlyTab = function MonthlyTab(_ref) {\n  var db = _ref.db,\n    tracks = _ref.tracks,\n    setTracks = _ref.setTracks,\n    tasks = _ref.tasks,\n    setTasks = _ref.setTasks,\n    load = _ref.load,\n    loadx = _ref.loadx,\n    sections = _ref.sections,\n    settings = _ref.settings;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var today = new Date();\n  var thisMonth = today.getMonth();\n  var thisYear = today.getFullYear();\n  var thisDay = today.getDate();\n  var _useState3 = useState(thisMonth),\n    _useState4 = _slicedToArray(_useState3, 2),\n    month = _useState4[0],\n    setMonth = _useState4[1];\n  var _useState5 = useState(thisYear),\n    _useState6 = _slicedToArray(_useState5, 2),\n    year = _useState6[0],\n    setYear = _useState6[1];\n  var _useState7 = useState(thisDay),\n    _useState8 = _slicedToArray(_useState7, 2),\n    day = _useState8[0],\n    setDay = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    firstMonth = _useState10[0],\n    setFirstMonth = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    lastMonth = _useState12[0],\n    setLastMonth = _useState12[1];\n  var _useState13 = useState(true),\n    _useState14 = _slicedToArray(_useState13, 2),\n    displayMonth = _useState14[0],\n    setDisplayMonth = _useState14[1];\n  useEffect(function () {\n    if (tasks.filter(function (c) {\n      return c.year == year && c.month == month - 1;\n    }) == undefined) {\n      setFirstMonth(true);\n    } else {\n      setFirstMonth(false);\n    }\n    if (tasks.filter(function (c) {\n      return c.year == year && c.month == month + 1;\n    }) == undefined) {\n      setLastMonth(true);\n    } else {\n      setLastMonth(false);\n    }\n  }, []);\n  var LastMonth = function LastMonth() {\n    if (month == 0) {\n      setMonth(11);\n      setYear(year - 1);\n    } else {\n      setMonth(month - 1);\n    }\n    if (tasks.filter(function (c) {\n      return c.year == year && c.month == month - 2;\n    }) == \"\") {\n      setFirstMonth(true);\n    }\n    setLastMonth(false);\n  };\n  var NextMonth = function NextMonth() {\n    if (month == 11) {\n      setMonth(0);\n      setYear(year + 1);\n    } else {\n      setMonth(month + 1);\n    }\n    if (tasks.filter(function (c) {\n      return c.year == year && c.month == month + 1;\n    }) == \"\") {\n      setLastMonth(true);\n    }\n    setFirstMonth(false);\n  };\n  if (isLoading) {\n    return _jsx(View, {\n      children: _jsx(Text, {\n        children: \" Is Loading...\"\n      })\n    });\n  }\n  return _jsx(ImageBackground, {\n    source: background,\n    resizeMode: \"cover\",\n    style: container.container,\n    children: _jsxs(SafeAreaView, {\n      style: container.container,\n      children: [_jsxs(View, {\n        style: container.header,\n        children: [_jsx(Pressable, {\n          onPress: displayMonth == true ? function () {\n            return LastMonth(tasks);\n          } : function () {\n            return setYear(year - 1);\n          },\n          children: _jsx(Feather, {\n            name: \"chevron-left\",\n            size: 40,\n            style: {\n              right: 30\n            },\n            color: 'black'\n          })\n        }), _jsxs(Pressable, {\n          onPress: function onPress() {\n            return setDisplayMonth(!displayMonth);\n          },\n          style: {\n            alignItems: 'center'\n          },\n          children: [_jsx(Text, {\n            style: container.headerdate,\n            children: displayMonth == true ? moment(new Date(year, 1, 1)).format('YYYY') : moment(new Date(0, month, 1)).format('MMMM')\n          }), _jsx(Text, {\n            style: container.headertitle,\n            children: displayMonth == true ? moment(new Date(0, month, 1)).format('MMMM') : moment(new Date(year, 1, 1)).format('YYYY')\n          })]\n        }), _jsx(Pressable, {\n          onPress: displayMonth == true ? function () {\n            return NextMonth(tasks);\n          } : function () {\n            return setYear(year + 1);\n          },\n          children: _jsx(Feather, {\n            name: \"chevron-right\",\n            size: 40,\n            style: {\n              left: 30\n            },\n            color: 'black'\n          })\n        })]\n      }), _jsx(Monthly, {\n        year: year,\n        month: month,\n        day: day,\n        tasks: tasks,\n        tracks: tracks,\n        setTracks: setTracks,\n        load: load,\n        loadx: loadx,\n        db: db,\n        setTasks: setTasks\n      })]\n    })\n  });\n};\nexport default MonthlyTab;","map":{"version":3,"names":["useState","useEffect","moment","Monthly","container","Feather","background","jsx","_jsx","jsxs","_jsxs","MonthlyTab","_ref","db","tracks","setTracks","tasks","setTasks","load","loadx","sections","settings","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","today","Date","thisMonth","getMonth","thisYear","getFullYear","thisDay","getDate","_useState3","_useState4","month","setMonth","_useState5","_useState6","year","setYear","_useState7","_useState8","day","setDay","_useState9","_useState10","firstMonth","setFirstMonth","_useState11","_useState12","lastMonth","setLastMonth","_useState13","_useState14","displayMonth","setDisplayMonth","filter","c","undefined","LastMonth","NextMonth","View","children","Text","ImageBackground","source","resizeMode","style","SafeAreaView","header","Pressable","onPress","name","size","right","color","alignItems","headerdate","format","headertitle","left"],"sources":["/Users/elodie/Documents/GIT/todo/screens/MonthlyTab.tsx"],"sourcesContent":["import { ImageBackground,Pressable, Text, View, Dimensions, SafeAreaView } from 'react-native';\nimport { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport Monthly from '../components/Monthly';\nimport { container } from '../styles';\nimport { Feather } from '@expo/vector-icons';\nimport background from '../assets/images/design/background.jpg';\n\nconst MonthlyTab = ({db, tracks, setTracks, tasks, setTasks, load, loadx, sections, settings}) => {\n  const [isLoading, setIsLoading] = useState(false);\n\n  var today = new Date();\n  var thisMonth = today.getMonth();\n  var thisYear = today.getFullYear();\n  var thisDay = today.getDate();\n  const [month,setMonth] = useState(thisMonth);\n  const [year,setYear] = useState(thisYear);\n  const [day, setDay] = useState(thisDay);\n  const [firstMonth, setFirstMonth] = useState(false);\n  const [lastMonth, setLastMonth] = useState(false);\n  const [displayMonth, setDisplayMonth] = useState(true);\n\n  useEffect(() => {\n    if (tasks.filter(c=>(c.year==year && c.month==month-1))==undefined) {\n      setFirstMonth(true);\n    }\n    else{\n      setFirstMonth(false);\n    }\n    if (tasks.filter(c=>(c.year==year && c.month==month+1))==undefined) {\n      setLastMonth(true);\n    }\n    else{\n      setLastMonth(false);\n    }\n  },[])\n\n  const LastMonth = () => {\n    if (month==0){\n      setMonth(11);\n      setYear(year-1);\n    }\n    else {\n      setMonth(month-1);\n    }\n    if (tasks.filter(c=>(c.year==year && c.month==month-2))==\"\"){\n      setFirstMonth(true);\n    }\n    setLastMonth(false);\n  };\n\n  const NextMonth = () => {\n    if (month==11){\n      setMonth(0);\n      setYear(year+1);\n    }\n    else {\n      setMonth(month+1);\n    }\n    if (tasks.filter(c=>(c.year==year && c.month==month+1))==\"\"){\n      setLastMonth(true);\n    }\n    setFirstMonth(false);\n  };\n\n\n  if (isLoading) {\n    return (\n      <View>\n        <Text> Is Loading...</Text>\n      </View>\n    )\n  }\n\n\n  return (\n    <ImageBackground source={background} resizeMode=\"cover\" style={container.container}>\n    <SafeAreaView style={container.container}>\n      <View style={container.header}>\n        <Pressable onPress={displayMonth==true? ()=>LastMonth(tasks): ()=>setYear(year-1)}>\n          <Feather name='chevron-left' size={40} style={{right:30}} color={'black'}/>\n        </Pressable>\n        <Pressable onPress={()=>setDisplayMonth(!displayMonth)} style={{alignItems:'center'}}>\n          <Text style={container.headerdate}>{displayMonth==true?moment(new Date(year,1,1)).format('YYYY'):moment(new Date(0,month,1)).format('MMMM')}</Text>\n          <Text style={container.headertitle}>{displayMonth==true?moment(new Date(0,month,1)).format('MMMM'):moment(new Date(year,1,1)).format('YYYY')}</Text>\n        </Pressable>\n        <Pressable onPress={displayMonth==true? ()=>NextMonth(tasks): ()=>setYear(year+1)}>\n          <Feather name='chevron-right' size={40} style={{left:30}} color={'black'}/>\n        </Pressable>\n      </View>\n      <Monthly year={year} month={month} day={day} \n      tasks={tasks} tracks={tracks} setTracks={setTracks} \n      load={load} loadx={loadx} db={db} setTasks={setTasks} \n      />\n    </SafeAreaView>\n    </ImageBackground>\n  );\n};\n\n\nexport default MonthlyTab;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}